!function(e){e(window.jQuery,window,document)}(function(e,n){function t(n,t,a){var o=a,r={username:n,password:t};return e.ajax({url:"/authenticate",type:"post",headers:{Authorization:o},data:r})}function a(){return e.ajax({url:"/access",type:"get"})}e(function(){e("div#loginForm").append(e("<h3/>").text("Sign In"),e("<form/>",{method:"post"}).append(e("<input/>",{type:"text",id:"username",name:"username",placeholder:"username"}),e("<input/>",{type:"password",id:"password",name:"password",placeholder:"password"}),e("<br/>"),e("<input/>",{type:"submit",id:"submit",value:"Submit"})));var o=e("#loginForm");o.on({submit:function(o){o.preventDefault();{var r=e(this).find("[name='username']").val(),i=e(this).find("[name='password']").val();a().done(function(a){t(r,i,a.key).done(function(n){var t=e.parseJSON(n);e.each(t,function(n,t){e("#authorized").text("User profile url: "+t)})}).fail(function(t){console.log(t);var a=e.parseJSON(t.responseText);console.log(a),e.each(a,function(t,a){"/register"===a?n.location.href=a:e("#authorized").text(a)})})})}}})})});